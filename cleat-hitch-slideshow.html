function updateStepStyle() {
    // Reset all steps
    document.querySelectorAll('.step').forEach(step => {
        step.classList.remove('bg-green-100', 'border-green-500', 'bg-blue-100', 'border-blue-500', 'ring-4', 'ring-blue-200');
    });

    // Style completed steps
    for (let i = 0; i < currentStep; i++) {
        const step = document.getElementById(`step${i + 1}`);
        step.classList.add('bg-green-100', 'border-green-500');
    }

    // Style current step
    const currentStepElement = document.getElementById(`step${currentStep + 1}`);
    currentStepElement.classList.add('bg-blue-100', 'border-blue-500', 'ring-4', 'ring-blue-200');

    // Update navigation buttons
    const prevButton = document.getElementById('prevButton');
    const nextButton = document.getElementById('nextButton');
    
    prevButton.disabled = currentStep === 0;
    nextButton.style.display = currentStep === steps.length - 1 ? 'none' : 'block';
}

// Get the knot type from the URL
const urlParams = new URLSearchParams(window.location.search);
const knotType = urlParams.get('knot') || 'cleat-hitch';

// Set up the back button to return to main page and reopen modal
document.getElementById('backButton').addEventListener('click', function(e) {
    e.preventDefault();
    window.location.href = `index.html?knot=${knotType}`;
}); 